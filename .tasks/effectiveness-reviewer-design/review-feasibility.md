# 実現可能性・安定性レビュー

## 重大な問題（設計を変更すべき）

- [評価項目E「代替アプローチとの比較」の決定性欠如]: [手順・評価項目E] [AIの知識・経験依存で再現性が低い。同じスキルに対して異なる実行で異なる代替案を挙げる可能性が高く、評価が不安定になる。] [この項目を削除し、目的達成度サマリからも除外する。代替アプローチの妥当性は、項目A〜Dの具体的な問題として自然に検出される。例: 「フェーズ間の情報欠落」→データフロー妥当性で検出、「不要な処理」→目的−手段整合性で検出] [impact: high] [effort: low]

- [評価項目D「エッジケース」の検証範囲が無制限]: [評価項目D] [「最小入力」「最大入力」「想定外入力」の範囲が曖昧で、サブエージェントがどこまで推論すべきか決定できない。特に「50ファイル超」「100ページの設計書」は具体的だが、skill_improve の対象スキルは構造が多様で一律に評価できない。] [エッジケースを3パターンに絞り、各パターンで確認すべき点を具体化する: (1) 最小入力: 必須ファイルのみ存在する場合にワークフローが完走するか、(2) 大規模入力: テンプレート/補助ファイルが10個超の場合にコンテキスト超過しないか、(3) 不正入力: SKILL.md の必須セクション欠落時にエラー通知が適切か] [impact: high] [effort: medium]

- [項目B「情報の変質」の判定基準が主観的]: [評価項目B] [「後続処理に必要な詳細が失われる」の判定が曖昧。サブエージェントが「この情報は必要」と判断する根拠が不明確で、再現性が低い。] [判定基準を以下に具体化: (1) 前フェーズの Write ファイルと次フェーズの Read ファイルを照合し、変数名・フィールド名の一致を確認、(2) 次フェーズのテンプレート内で参照されている情報が前フェーズの出力に含まれているかを確認、(3) SKILL.md の各フェーズの説明で「〜を使って」「〜を元に」と記載された情報が実際に前フェーズから受け渡されているか確認] [impact: high] [effort: medium]

## 改善提案（設計を強化できる）

- [項目A「目的達成に貢献しないフェーズ」の検出基準が不明確]: [評価項目A] [「無関係な処理、過剰なメタ処理」の判定基準が曖昧。例: agent_create の Phase 0 knowledge 初期化は目的達成の前提だが、文面上は「過剰なメタ処理」に見える可能性がある。] [以下の基準を追加: (1) フェーズの出力が後続フェーズまたは最終成果物に使用されているか確認（データフロー追跡）、(2) SKILL.md の「使い方」セクションで宣言された成果物にフェーズの出力が直接・間接的に貢献しているか確認] [impact: medium] [effort: low]

- [項目C「評価・判定ロジック」の検証対象が限定的]: [評価項目C] [点数化・ランク付けのみを対象としているが、skill_improve では「推奨判定」（統合 vs 反復）のような質的判定も重要。これらは scoring-rubric.md やテンプレート内の条件分岐に埋め込まれている。] [検証対象に「条件分岐による方針切り替え」を追加: (1) Grep で「if」「〜の場合」「〜なら」を含む行を列挙、(2) 各分岐の条件が目的と整合しているか（例: 「スコア差<0.5なら反復」→目的が品質向上なら妥当）、(3) 閾値の根拠が scoring-rubric.md またはコメントに記載されているか確認] [impact: medium] [effort: medium]

- [項目D「エッジケース」で想定外入力の範囲が広すぎる]: [評価項目D] [「SKILL.md のないディレクトリ、英語のみの文書」は具体的だが、skill_improve の想定範囲を超える。スキルは claude-code の .claude/skills/ 配下の標準構造を前提としており、これを逸脱した入力は scope 外。] [想定外入力を「標準構造の境界ケース」に絞る: (1) テンプレートファイルが存在しない（templates/ ディレクトリが空）、(2) 補助ファイル（カタログ等）の一部が欠落、(3) SKILL.md の必須セクションが欠落（使い方、パス変数、手順）。英語文書は削除（skill_improve は日本語前提）] [impact: medium] [effort: low]

- [出力サマリテーブルの判定基準が不明確]: [出力フォーマット・目的達成度サマリ] [「高/中/低」の判定基準が不明。サブエージェントが恣意的に判定する可能性がある。] [各評価項目に対して明示的な判定基準を追加: (1) 高: 問題0件、(2) 中: 改善提案のみ存在（重大な問題なし）、(3) 低: 重大な問題が1件以上存在] [impact: medium] [effort: low]

- [実装計画の Phase 3 コンフリクト解決が楽観的]: [draft-implementation-plan.md・Phase 3] [「有効性優先」「効率性優先」のルールを1つ追加するだけで解決できるとしているが、実際には項目B（データフロー）と効率性（冗長ステップ）の競合も起こりうる。例: 情報保持のために中間ファイルを増やす提案 vs ファイル経由を減らす提案。] [Phase 3 のコンフリクト解決に「データフロー妥当性 vs 効率性」のルールを追加: データフロー不全（情報欠落）が存在する場合は有効性優先、単なる情報重複・冗長性の場合は効率性優先] [impact: low] [effort: low]

- [手順5の補助ファイル確認が曖昧]: [手順5] [「カタログ、ガイド、ルーブリック等」は例示だが、実際に何を読むべきかサブエージェントが決定できない。agent_create では approach-catalog.md, proven-techniques.md, perspectives/ 等があるが、これらを全て読むとコンテキスト消費が大きい。] [手順5を具体化: Glob で列挙した補助ファイルのうち、(1) analysis_path で「使用されている」と記載されたファイルのみ Read、(2) ファイル数が10個超の場合は構造分析の要約情報のみ参照] [impact: low] [effort: low]

## 良い点

- [評価項目A-Eの問題カテゴリが明確]: 目的−手段整合性、データフロー妥当性、判定ロジック妥当性、エッジケース耐性という分類は、既存4レビューアーとの重複が少なく、補完的である。特に「データフロー妥当性」は安定性レビューアーの「参照整合性」と異なり、情報の内容レベルでの伝播を確認する点が独自性がある。

- [出力フォーマットが具体的]: 重大な問題・改善提案の各項目で「フェーズ/ステップ」「影響」「impact/effort」を記載する形式は、既存レビューアー（reviewer-stability.md）と統一されており、Phase 3 の統合処理との互換性が高い。

- [評価項目Cの「該当なし」処理]: 評価・判定ロジックが存在しないスキル（単純なドキュメント生成スキル等）に対して「良い点」として記録する指示は、スコープ外処理の明確化として適切。
