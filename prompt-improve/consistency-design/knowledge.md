# Reviewer Optimize Knowledge: consistency-design

## 対象エージェント
- **観点**: consistency
- **対象**: design
- **エージェント定義**: /home/toyama-ryosuke/ghq/github.com/nangashi/ai-experimental/.claude/agents/consistency-design-reviewer.md
- **累計ラウンド数**: 9

## パフォーマンス改善の要素

### 効果が確認された構造変化
| 変化 | 効果 (pt) | 安定性 (SD) | 確認ラウンド | 備考 |
|------|-----------|-------------|-------------|------|
| 固定セクション構造の削減 (最小自由記述形式) | +3.5 | 0.25 | Round 001 | Critical問題検出率100%、baseline比で+3.5pt、安定性大幅向上 (SD: 1.77→0.25) |
| スコアリング表の追加 | +1.0 | 0.35 | Round 001 | P03/P04の重大問題検出を安定化、スコープ外ペナルティ削減 (baseline -0.5→0) |
| 3段階分析アプローチ (Structure → Detail → Cross-cutting) | +8.25 | 0.0 | Round 002 | 全問題検出率100%、情報欠落検出0%→100%、完全な再現性 (SD=0.0)、ボーナス3/4問題検出 |
| マルチパスレビュー (Pass 1: 全体把握、Pass 2: 詳細分析) | +0.5 | 1.5 | Round 003 | 検出率70% (+12.5pt over baseline)、P10依存管理問題を検出、ボーナスB02/B04検出、高天井 (Run1=8.5) |
| マルチパス+情報欠落チェックリスト (Pass1: チェックリスト+既存パターン照合明示化) | +0.5 | 0.50 | Round 005 | 検出率85% (+17.5pt over baseline)、安定性向上 (SD 0.71→0.50)、検出主導型スコア構成 (94.4% 検出) |
| マルチパス+探索的フェーズ (Pass3: 横断的問題・暗黙的パターン違反検出) | +1.5 | 1.0 | Round 006 | 最高スコア9.5点、ボーナス検出平均5件/実行、横断的問題検出に有効、埋め込み問題検出率80%維持 |
| 分解型分析 (Phase1: パターン抽出 → Phase2: 不整合検出) | +0.5 | 0.25 | Round 007 | 埋め込み問題検出率75% (+0.75pt over baseline)、検出安定性完璧 (SD=0.0)、検出主導型スコア構成 (81.1% 検出) |
| 検出と報告の分離 (Step1: 一貫性問題検出 → Step2: 出力整形) | +2.5 | 0.0 | Round 008 | 検出率80% (+17.5% over baseline)、完全安定性 (SD=0.0)、ボーナス検出+0.75pt改善、既存パターンとの一貫性検証を強化 |
| 専門家ペルソナ (システムアーキテクチャの専門家として) | +3.0 | 0.0 | Round 009 | 検出率90% (+25%改善)、完全安定性 (SD=0.0)、命名規約/API設計で部分検出→完全検出、ボーナス検出安定化 (+0.5pt) |

### 効果が限定的/逆効果だった構造変化
| 変化 | 効果 (pt) | 安定性 (SD) | 確認ラウンド | 備考 |
|------|-----------|-------------|-------------|------|
| スコアリング表の追加 (軽微問題検出) | +1.0 | 0.35 | Round 001 | P07/P08の軽微問題検出率は改善せず、B01検出が悪化 (baseline Run1検出→未検出) |
| 検出ヒントセクションの追加 | 0.0 | 0.25 | Round 002 | スコープ外指摘急増 (penalty: -0.5→-3.5)、検出精度非改善 (43%→48%)、一貫性検証とbest-practices評価の境界を曖昧化 |
| Few-shot例の追加 (S1a) | -0.25 | 0.25 | Round 003 | 安定性向上 (SD 1.0→0.25) も検出率低下 (57.5%→52.5%)、P06/P09/P08検出喪失、精度優先トレードオフ |
| Standards-based Checklist (N1a) | 0.0 | 0.25 | Round 004 | 情報欠落検出安定化・スコープ外指摘削減 (penalty 0.75→0) も既存パターン比較喪失により検出率低下 (75%→52.8%)、ボーナス検出増加 (+1.25件) で相殺 |
| チェックリストによる焦点絞り込み (C1c-v2) | +0.5 | 0.50 | Round 005 | ボーナス検出減少 (6.5件→1.0件, -2.0pt) も埋め込み問題検出改善 (+2.5pt) により総合スコア+0.5pt |
| 4段階自問フレームワーク (C1b-v2) | +1.0 | 1.0 | Round 006 | Run2で100%検出達成、情報欠落問題の体系的検出、ボーナス検出なし |
| 探索的フェーズによるボーナス検出優位性 (C1c-v3 vs D1a) | +0.25 | 0.0 | Round 007 | ボーナス検出2.0pt vs 1.75pt、B02検出安定性、探索的視点の価値を確認 |
| 事前分析+本レビュー分離 (Step1: 構造化事前分析 → Step2: 不整合検出) | -1.75 | 0.25 | Round 008 | 既存パターン一貫性検証の弱体化、内部パターン比較に偏重、検出率-22.5%低下、多くの項目で△部分検出 |

### バリエーションステータス
| Variation ID | Status | Round | Effect (pt) | Notes |
|-------------|--------|-------|-------------|-------|
| S1a | MARGINAL | Round 003 | -0.25 | 基本 Few-shot例 — 安定性向上 (SD 1.0→0.25) も検出率低下 (57.5%→52.5%)、精度優先トレードオフ |
| S1b | UNTESTED | - | - | ドメイン特化 — 対象観点の典型的問題に特化した例 |
| S1c | UNTESTED | - | - | 敵対的 — 見落としやすい微妙な問題の検出例 |
| S1d | UNTESTED | - | - | 否定例 — 検出すべきでないもの(偽陽性回避の例) |
| S1e | UNTESTED | - | - | 段階的難易度 — 易→難の順で思考過程を示す例 |
| S2a | MARGINAL | Round 001 | +1.0 | 基本5段階スコアリング表 — 重大問題の安定化に寄与、軽微問題の検出率向上には限定的 |
| S2b | UNTESTED | - | - | カテゴリ重み付き — 観点ごとに異なる重み設定 |
| S2c | UNTESTED | - | - | 深刻度アンカリング — 各レベルに具体的な事例を紐付け |
| S3a | UNTESTED | - | - | セクション名のみ(テンプレート削除) |
| S3b | EFFECTIVE | Round 001 | +3.5 | 最小自由記述(セクション構造なし) — Critical問題検出率100%, 安定性最大化 (SD=0.25) |
| S3c | UNTESTED | - | - | テーブル中心(表形式で統一) |
| S4a | UNTESTED | - | - | 1行要約化 — 各項目の説明を核心1行に削減 |
| S4b | UNTESTED | - | - | 階層簡略化 — 見出し維持+内容フラット化 |
| S5a | INEFFECTIVE | Round 002 | 0.0 | カテゴリリスト(検出ヒント) — スコープ外指摘急増 (penalty -3.5)、一貫性検証とbest-practices評価の境界を曖昧化 |
| S5b | UNTESTED | - | - | アンチパターン — 具体的な問題パターンのリスト |
| S5c | UNTESTED | - | - | 欠落検出 — 「存在すべきだが欠けているもの」の確認指示 |
| C1a | EFFECTIVE | Round 002 | +8.25 | 3段階分析アプローチ — Structure→Detail→Cross-cutting、100%検出率、完全安定性 (SD=0.0) |
| C1b | UNTESTED | - | - | 構造化分析フレームワーク — 「各セクションに対してX問を自問する」 |
| C1c | EFFECTIVE | Round 003 | +0.5 | マルチパスレビュー — 検出率70% (+12.5pt)、高天井 (Run1=8.5) も安定性低下 (SD=1.5)、B02/B04検出 |
| C1c-v2 | EFFECTIVE | Round 005 | +0.5 | マルチパス+情報欠落チェックリスト — 検出率85% (+17.5pt)、安定性向上 (SD=0.50)、検出主導型スコア構成 (94.4%) |
| C1c-v3 | EFFECTIVE | Round 006 | +1.5 | マルチパス+探索的フェーズ — 最高スコア9.5点、ボーナス検出平均5件、横断的問題・暗黙的パターン違反の検出に有効、安定性低下 (SD=1.0) |
| C1b-v2 | EFFECTIVE | Round 006 | +1.0 | 4段階自問フレームワーク — Run2で100%検出達成、情報欠落問題の体系的検出、ボーナス検出なし、安定性SD=1.0 |
| D1a | EFFECTIVE | Round 007 | +0.5 | 分解型分析 (Phase1: パターン抽出 → Phase2: 不整合検出) — 検出率75% (+0.75pt over baseline)、検出安定性完璧 (SD=0.0)、検出主導型スコア (81.1%)、ボーナス検出-0.25pt |
| M1a | INEFFECTIVE | Round 008 | -1.75 | 事前分析+本レビュー分離 — 既存パターン一貫性検証の弱体化、内部パターン比較に偏重、検出率40% (-22.5%)、多くの項目で△部分検出 |
| M1b | EFFECTIVE | Round 008 | +2.5 | 検出と報告の分離 — 検出率80% (+17.5%)、完全安定性 (SD=0.0)、ボーナス検出+0.75pt改善、既存パターンとの一貫性検証を強化 |
| C2a | EFFECTIVE | Round 009 | +3.0 | 専門家ペルソナ — 検出率90% (+25%)、完全安定性 (SD=0.0)、命名規約/API設計で部分検出→完全検出、ボーナス検出安定化、エンドポイントパス検出で若干悪化 (-0.25pt on P05) |
| C2b | UNTESTED | - | - | 攻撃者/敵対者視点 — 「攻撃者/悪意ある利用者として考える」 |
| C2c | UNTESTED | - | - | 二重役割 — レビュアー+レッドチームの両面 |
| C3a | UNTESTED | - | - | 深刻度優先 — 重大な問題から報告する指示 |
| C3b | UNTESTED | - | - | リスクベース — 発生確率×影響度で順序付け |
| C3c | UNTESTED | - | - | カテゴリ→深刻度 — カテゴリ別にグループ化してから深刻度順 |
| N1a | INEFFECTIVE | Round 004 | 0.0 | 標準ベース — 情報欠落検出安定化・スコープ外指摘削減も既存パターン比較喪失により検出率-22.2pt低下、ボーナス検出で相殺 |
| N1b | UNTESTED | - | - | アンチパターン集 — 対象観点の典型的なアンチパターンリスト |
| N1c | UNTESTED | - | - | 観点間境界 — 隣接観点との境界ケースの扱いを明示 |
| N2a | UNTESTED | - | - | 全文英語 — プロンプト全体を英語に変換 |
| N2b | UNTESTED | - | - | 混合言語 — カテゴリ名・技術用語は英語、説明は日本語 |
| N2c | UNTESTED | - | - | 全文日本語 — 現状のベースライン |
| N3a | UNTESTED | - | - | 最小化 — 全体を50%程度に圧縮 |
| N3b | UNTESTED | - | - | 拡張 — 詳細説明・判断基準を50%程度増量 |
| N3c | UNTESTED | - | - | 選択的最適化 — 低価値セクションのみ削除 |
| M1a | UNTESTED | - | - | 事前分析+本レビュー分離 — 最初に構造分析、次に問題検出 |
| M1b | UNTESTED | - | - | 検出と報告の分離 — 検出フェーズと出力整形フェーズを明示的に分ける |
| M2a | UNTESTED | - | - | 最低検出数制約 — 「最低N個の問題を見つけること」 |
| M2b | UNTESTED | - | - | 制約緩和 — 出力制限の削除(自由度を上げる) |
| M2c | UNTESTED | - | - | 確信度注釈 — 各指摘に確信度(高/中/低)を付与させる |

## テスト対象文書履歴

| ラウンド | テーマ/ドメイン | 主要問題カテゴリ |
|---------|---------------|----------------|
| Round 001 | IoT Device Management API 設計書 | 命名規約、API設計、実装パターン、依存関係 |
| Round 002 | IoT Device Management API 設計書 (同一) | 命名規約、情報欠落、実装パターン |
| Round 003 | IoT Device Management API 設計書 (同一) | 命名規約、API設計、実装パターン、依存管理、情報欠落 |
| Round 004 | E-Learning Platform 設計書 | 命名規約（テーブル名・カラム名）、API設計、実装パターン、設定管理 |
| Round 005 | E-Learning Platform 設計書 (同一) | 命名規約（テーブル名・カラム名）、依存管理、API設計、実装パターン（エラーハンドリング、ロギング、トランザクション、認証トークン保存）、ディレクトリ構造 |
| Round 006 | E-Learning Platform 設計書 (同一) | 命名規約（テーブル名・カラム名、FK-PK命名不整合）、API設計（レスポンス形式、動詞使用）、実装パターン（エラーハンドリング、ロギング、トランザクション、認証トークン保存）、情報欠落、ディレクトリ構造 |
| Round 007 | Healthcare Appointment Management System 設計書 | 命名規約（テーブル名、カラム名、FK名、タイムスタンプ列名、PK命名）、API設計（エンドポイント、レスポンス構造、パスプレフィックス）、実装パターン（RestTemplate vs WebClient、データアクセスパターン、トランザクション管理）、情報欠落、Boolean列命名、カスケード削除戦略、Enum値命名 |
| Round 008 | Healthcare Appointment Management System 設計書 (同一) | 命名規約（テーブル名、タイムスタンプ列名、FK列名）、API設計（パスプレフィックス、動詞使用）、実装パターン（エラーハンドリング、ログ形式）、アーキテクチャパターン（逆向き依存）、認証・認可（JWT保存方式） |
| Round 009 | E-commerce Order Tracking System 設計書 | 命名規約（テーブル名、タイムスタンプ列名、外部キー列名）、API設計（HTTPメソッド、エンドポイント構造）、実装パターン（HTTP通信、データアクセス/トランザクション、非同期処理）、ディレクトリ構造、依存管理（環境変数） |

## 最新ラウンドサマリ

**Round 009 結果**:
- **スコア**: baseline(C1c-v2)=8.0 (SD=1.0), C2a=11.0 (SD=0.0)
- **推奨**: v009-variant-role-expert (平均スコア差+3.0pt (>1.0pt基準)、検出率90% (+25%改善)、完全安定性SD=0.0達成)
- **主要知見**:
  - 専門家ペルソナ (システムアーキテクチャの専門家として) により観点特化の視点強化、一貫性検証の核心的視点 (既存パターン照合、命名規則体系化) を強制
  - 命名規約カテゴリで劇的改善: P01 (テーブル名混在) △△→○○ (+0.5pt)、P03 (外部キー命名) △△→○○ (+0.5pt)
  - API設計カテゴリで劇的改善: P04 (HTTPメソッド混在) ××→○○ (+1.0pt)、P06 (RestTemplate選定) ×→○○ (+0.5pt、Baseline Run2未検出を安定検出)
  - 完全安定性達成 (SD=0.0、両Runで同一スコア11.0)、ボーナス検出も両実行で4件に統一
  - M1b (検出と報告の分離) + C2a (専門家視点) の相乗効果により検出率80%→90%段階的向上を達成
  - 弱点: P05 (エンドポイントパス不整合) 検出悪化 (-0.25pt、Baseline Run2の部分検出を未検出)
- **収束判定**: 継続推奨 (Round 008→009 改善幅+0.5pt = 0.5pt)
- **次回推奨**: C2a-v2 (専門家ペルソナ + エンドポイントパス分析明示化) でP05検出改善、100%検出率達成を目指す

## 改善のための考慮事項

1. **3段階分析アプローチ (Structure→Detail→Cross-cutting) は全カテゴリで劇的な検出精度向上を実現する** (根拠: Round 002, C1a, 効果+8.25pt)
   - Stage 1 (構造分析): ドキュメント全体の情報欠落を体系的に特定 (0/6問 → 6/6問)
   - Stage 2 (詳細分析): セクション別に既存パターンとの不一致を検出 (命名規則検出 17% → 100%)
   - Stage 3 (横断分析): パターン違反を抽出
   - 完全な再現性 (SD=0.0) と100%検出率を達成
   - 適用範囲: consistency観点、design-stage、全ての深刻度レベル

2. **構造化分析手順は「情報不足」を理由とした検出放棄を防止する** (根拠: Round 002, C1a, P01/P02検出)
   - ドキュメント内部の既存パターン記述を活用して比較分析を実施
   - 既存コードベースへのアクセスなしでも、設計書内の情報で一貫性検証が可能
   - 適用範囲: consistency観点、情報欠落問題、命名規則問題

3. **マルチパスレビュー+情報欠落チェックリストは検出率と安定性を両立させる** (根拠: Round 005, C1c-v2, 効果+0.5pt, 検出率+17.5%, SD改善0.71→0.50)
   - Pass1への情報欠落チェックリスト追加が体系的検証を強制し、P02/P03/P04/P07で完全検出達成
   - 既存パターン照合の明示化により部分検出を完全検出に引き上げ (P03: △△→○○, P04: ○△→○○)
   - 高安定性 (SD=0.50 ≤ 0.5) を達成し、実行間変動を削減
   - チェックリスト構造によるボーナス検出減少のトレードオフあり (6.5件→1.0件, -2.0pt)
   - 適用範囲: consistency観点、埋め込み問題検出精度重視シナリオ
   - 改善方向: チェックリスト範囲拡張 (P08/P10カバー)、探索的フェーズ追加でボーナス検出回復

4. **Few-shot例の追加は安定性を向上させるが検出率を低下させる** (根拠: Round 003, S1a, 効果-0.25pt, SD改善1.0→0.25, 検出率低下57.5%→52.5%)
   - 出力パターンを制約して実行間変動を削減、偽陽性を除去 (P06/P09不安定検出を消失)
   - 全体的なリコールが低下、情報欠落問題の検出能力を喪失 (P06/P08/P09未検出)
   - 適用範囲: consistency観点、精度優先シナリオ、プロダクション環境
   - 改善方向: 既存パターン照合指示を追加、情報欠落例を含める

5. **検出ヒント/カテゴリリストの追加はスコープ境界を曖昧化し、best-practices評価を誘発する** (根拠: Round 002, S5a, 効果0.0pt, penalty -3.5)
   - 具体的なチェック項目リストは「その項目について何か言わねば」という圧力を発生させる
   - 一貫性検証ではなく、一般的な推奨事項の指摘に誘導
   - 例: "HTTP通信ライブラリ" → "Spring recommends WebClient" という一般推奨
   - 適用範囲: consistency観点全般 (検出ヒント追加は避けるべき)

6. **固定セクション構造の削減はCritical問題の検出精度を向上させる** (根拠: Round 001, S3b, 効果+3.5pt)
   - 自由記述形式への移行により、P01-P04の重大問題検出率が 27.8% → 100% に改善
   - 適用範囲: consistency観点、設計レビュー、Critical/重大問題の検出

7. **出力形式の自由度向上は結果の安定性を向上させる** (根拠: Round 001, S3b, SD=1.77→0.25)
   - セクション構造制約の削除により、Run間のスコア変動が大幅に減少
   - 適用範囲: consistency観点、全ての深刻度レベル

8. **スコアリング表の追加はスコープ境界の明確化に寄与する** (根拠: Round 001, S2a, 効果+1.0pt)
   - baseline で発生していたスコープ外ペナルティ (-0.5) が消失
   - 適用範囲: 隣接観点との境界が曖昧な場合 (consistency vs structural-quality)

9. **スコアリング表の追加は軽微問題の検出率向上に限定的** (根拠: Round 001, S2a, P07/P08未改善)
   - 重大問題 (P03, P04) の検出は安定化したが、軽微問題の検出率は改善せず
   - 適用範囲: consistency観点、軽微問題、情報欠落問題

10. **情報欠落問題 (missing documentation) は体系的チェックリストにより安定化できるが既存パターン比較とのトレードオフが発生する** (根拠: Round 003 不安定性 + Round 004 N1a安定化も検出率低下)
    - Round 003: 明示的なチェックリストなしで実行間変動大 (baseline P06: ×→○, multipass P08: ○→×)
    - Round 004: Standards-based Checklist (N1a) により情報欠落問題 (P05/P06/P08) を両実行とも100%検出、ボーナス検出も情報欠落カテゴリに集中 (平均2.5件)
    - しかし既存パターン比較の視点が欠落し、P03/P04の部分検出 (△) を完全未検出 (×) に悪化、総検出率-22.2pt低下
    - 適用範囲: consistency観点、情報欠落問題全般
    - 改善方向: チェックリスト構造とマルチパス構造の統合 (Pass1: 既存パターン抽出 + 情報欠落チェック → Pass2: 既存パターンとの一致検証)

11. **Standards-based Checklistはスコープ境界を明確化し設計原則評価を抑制する** (根拠: Round 004, N1a, penalty 0.75→0)
    - チェックリスト項目が一貫性検証に特化しており、設計評価 (RESTful vs Action-based等) を誘発しない
    - Round 003 Baseline/Multipass で発生していた structural-quality スコープのペナルティが完全に消失
    - 適用範囲: consistency観点、隣接観点との境界が曖昧な評価項目
    - 注意事項: チェックリストは「文書化の有無」に焦点を当てるため、「既存パターンとの一致」という視点を別途追加する必要がある

12. **既存パターン照合の明示化は一貫性検証の核心機能** (根拠: Round 004, Baseline優位性、検出構成75% vs 53%; Round 005, C1c-v2改善効果+4.5pt)
    - マルチパスレビュー構造 (Pass1: 全体把握 → Pass2: 詳細分析) が既存パターンの抽出と比較を促進
    - Round 004: P03/P04 (API設計の既存パターンとの差異) を Baseline は部分検出 (△)、Variant (N1a) は完全未検出 (×)
    - Round 005: Pass1に「既存パターン照合」指示を明示化し、P02/P03/P04/P07で完全検出達成 (+4.5pt)
    - 検出主導型スコア構成 (94.4% 検出 + 5.6% bonus) により、埋め込み問題の検出能力が最大化
    - 適用範囲: consistency観点、既存パターンとの比較が必要な問題 (命名規約、API設計、実装パターン)
    - 改善方向: テスト文書の「既存システム前提条件」セクションに既存パターン情報を明記、またはプロンプトに既存パターン照合指示を追加

13. **チェックリスト構造による焦点絞り込みは埋め込み問題検出を改善するがボーナス検出を減少させる** (根拠: Round 005, C1c-v2, 効果+0.5pt, 検出+2.5pt, ボーナス-2.0pt)
    - チェックリスト項目への集中により埋め込み問題 (P02/P03/P04/P07) の検出精度が向上
    - 評価範囲の明示的限定が探索的な追加指摘を抑制し、ボーナス検出件数が6.5件→1.0件に減少
    - スコア構成が「ボーナス主導型」 (67.5% 検出 + 28.0% bonus) から「検出主導型」 (94.4% 検出 + 5.6% bonus) にシフト
    - 適用範囲: consistency観点、埋め込み問題検出精度重視シナリオ
    - 改善方向: 探索的フェーズ (Pass3) 追加によりボーナス検出機会を回復、チェックリスト範囲拡張で検出悪化箇所 (P08/P10) をカバー

14. **情報欠落チェックリストは実行間変動を削減し安定性を向上させる** (根拠: Round 005, C1c-v2, SD改善0.71→0.50)
    - チェックリスト構造が実行パスを標準化し、実行間の分析順序・視点を統一
    - P02/P03/P04/P07で実行間不一致を解消 (Baseline P07: △×, P10: △× → Variant P07: ○○)
    - 高安定性 (SD=0.50 ≤ 0.5) 達成により、プロダクション環境での信頼性が向上
    - 適用範囲: consistency観点、安定性重視シナリオ、本番運用環境
    - 注意事項: チェックリスト範囲外の項目 (P08/P10) での見落としリスクあり、包括的チェックリスト設計が必要

15. **チェックリスト範囲の不完全性は探索的フェーズで補完できる** (根拠: Round 005 P08/P10検出悪化-1.5pt → Round 006 C1c-v3で探索的フェーズ追加により総合スコア+1.5pt達成)
    - チェックリスト項目に含まれない問題カテゴリ (Round 005: P08トランザクション管理、P10認証トークン保存) の検出機会が減少
    - Pass3 (探索的フェーズ) 追加により、チェックリスト外の横断的問題・暗黙的パターン違反を検出可能 (FK-PK命名不整合、タイムスタンプ管理戦略、UUID生成戦略、JSONB列スキーマ等)
    - ボーナス検出平均5件/実行で総合スコア向上 (+2.5pt after cap)
    - 適用範囲: consistency観点、チェックリストベース手法全般、探索的問題発見重視シナリオ
    - トレードオフ: 安定性低下 (SD 0.50→1.0)、P03/P06/P07で部分検出化のリスクあり
    - 改善方向: チェックリスト拡張 (P03/P04/P06/P07カバー) + 探索的フェーズで網羅性と探索性を両立

16. **探索的フェーズは横断的問題・暗黙的パターン違反の検出に有効** (根拠: Round 006, C1c-v3, 効果+1.5pt, ボーナス検出平均5件)
    - Pass3で正解キー外の有益な追加指摘を生成 (FK-PK命名不整合、タイムスタンプ管理戦略、UUID生成戦略、JSONB列スキーマ未文書化、認証パターン完全性等)
    - スコア構成を探索主導型にシフト (検出73.7% + bonus26.3%)、埋め込み問題検出率80%を維持
    - 適用範囲: consistency観点、初期段階の問題発見、幅広いスコープの評価
    - トレードオフ: 安定性低下 (SD 0.0→1.0)、P03/P06/P07で部分検出化 (Run間で△/×が変動)
    - 改善方向: 探索的フェーズとチェックリスト駆動アプローチの統合でトレードオフを緩和

17. **4段階自問フレームワークは情報欠落問題の検出精度を向上させる** (根拠: Round 006, C1b-v2, 効果+1.0pt, Run2で100%検出)
    - Pattern Recognition → Consistency Verification → Completeness Check → Impact Assessment の構造化された視点
    - 「既存パターンが設計書に明記されているか」を体系的に確認、情報欠落問題を網羅的に検出
    - Run2で全問題を検出 (P03/P04/P06/P07を含む)、Run1とRun2の差が2点 (安定性SD=1.0)
    - 適用範囲: consistency観点、情報欠落問題全般、精度優先シナリオ
    - 弱点: ボーナス検出なし (探索的な追加指摘の機会がない)、Run1でP03/P04未検出
    - 改善方向: 探索的フェーズ追加でボーナス検出機会を確保、安定性向上策の検討

18. **分解型分析 (パターン抽出→不整合検出の分離) は埋め込み問題の検出精度と安定性を向上させる** (根拠: Round 007, D1a, 効果+0.5pt、検出改善+0.75pt、検出SD=0.0)
    - Phase1でパターンカタログを構築してからPhase2で不整合を検出する分離構造により、評価先行バイアスを削減
    - 検出率が67.5%→75% (+0.75pt、+11.1%) に改善、すべてのパターンカテゴリに対する体系的カバレッジが向上
    - 検出安定性が完璧 (SD=0.0、両実行とも7.5pt) に到達、P04検出の実行間変動 (△→×) を解消
    - スコア構成が検出主導型にシフト (81.1% 検出 + 18.9% bonus、baseline 77.1% + 22.9% から変化)
    - 適用範囲: consistency観点、埋め込み問題検出精度重視シナリオ、高安定性要求環境
    - トレードオフ: ボーナス検出-0.25pt (2.0→1.75)、P04/P08の部分検出機会喪失 (△→×)
    - 改善方向: Phase3探索的フェーズ追加でボーナス検出回復 (D1a-v2ハイブリッド)、Phase1チェックリストで文書化ギャップ検出強化

19. **探索的フェーズは分解型分析に対してボーナス検出優位性を持つ** (根拠: Round 007, C1c-v3 vs D1a, ボーナス差+0.25pt)
    - C1c-v3のPass3探索的フェーズは横断的問題 (B02 JWT保存矛盾) を両実行で安定検出 (ボーナス2.0pt)
    - D1aはB02検出が不安定 (Run1未検出、Run2検出、ボーナス1.75pt)
    - 探索的視点が「既存パターンに含まれない横断的矛盾」の検出に有効
    - 適用範囲: consistency観点、初期段階の問題発見、幅広いスコープの評価
    - 統合方向: D1a (Phase1-2分解型分析) + C1c-v3 (Phase3探索的) のハイブリッドで両方の利点を獲得

20. **パターン抽出フェーズは技術選定の不整合検出を促進する** (根拠: Round 007, D1a, P09検出改善×→△)
    - Phase1での体系的なライブラリ・フレームワークのカタログ化により、RestTemplate使用を明示的に抽出
    - 探索的アプローチ (C1c-v3) では両実行ともP09未検出 (0.0pt)、分解型 (D1a) では両実行とも部分検出 (△、+0.5pt)
    - パターン抽出段階で「文書化された技術選定」を可視化することが、Phase2での不整合判定を容易にする
    - 適用範囲: consistency観点、技術スタック・ライブラリ選定の一貫性検証
    - 改善方向: Phase1にフレームワークバージョン情報の抽出を追加し、バージョン固有の推奨事項との整合性を検証

21. **検出と報告の分離は評価先行バイアスを削減し、既存パターンとの一貫性検証を強化する** (根拠: Round 008, M1b, 効果+2.5pt、検出率80% (+17.5%)、SD=0.0)
    - 検出フェーズ (Step 1) で出力整形を考慮せず、純粋に一貫性問題の検出に集中
    - 報告フェーズ (Step 2) で検出した問題を深刻度別に整形
    - 「既存パターンとの一貫性検証が必要」という推奨を検出段階で明確化
    - データモデル命名規約 (P01: ××→○○ +2.0pt、P04: ○△→○○ +0.5pt) とアーキテクチャパターン (P09: △△→○○ +1.0pt) で劇的な改善
    - 完全な安定性達成 (SD=0.0、両Runで同一の検出結果)、ボーナス検出+0.75pt改善
    - 適用範囲: consistency観点、埋め込み問題検出精度重視シナリオ、高安定性要求環境
    - 残存弱点: API設計の内部矛盾検出 (P05/P06未検出)
    - 改善方向: 探索的サブフェーズ追加 (M1b-v2) でP05/P06検出改善

22. **事前分析フェーズの分離は既存パターンとの一貫性検証を弱体化させる** (根拠: Round 008, M1a, 効果-1.75pt、検出率40% (-22.5%)、多くの項目で△部分検出)
    - 構造化事前分析 (Step 1) で内部パターンを抽出、不整合検出 (Step 2) で内部パターン間の比較に偏重
    - 「既存システムとの不一致」という外部整合性の視点が希薄化
    - P03 (タイムスタンプ列) を「Four different timestamp naming patterns」と列挙するが、「既存システムのパターンとの一貫性検証が必要」という推奨がない
    - P09 (逆向き依存) の「一部で見られる」記述を認識しているが、支配的パターンか例外的ケースかの確認が必要という観点が欠如
    - ベストプラクティスとの混同傾向 (P07/P08/P09で「Spring Boot best practice」との比較が前面に)
    - 適用範囲: consistency観点全般 (事前分析フェーズの分離は避けるべき)

23. **検出フェーズの焦点化 (出力整形を考慮しない) は安定性を向上させる** (根拠: Round 008, M1b, SD=0.0 完全安定 vs Baseline SD=0.5、M1a SD=0.25)
    - 検出フェーズで出力形式を考慮しない → 評価パスを標準化
    - 報告フェーズで一貫した整形 → 実行間の出力変動を削減
    - P04 (外部キー列混在)、P10 (JWTストレージ) でのRun間変動を解消
    - 適用範囲: consistency観点、安定性重視シナリオ、本番運用環境

24. **専門家ペルソナ (システムアーキテクチャの専門家として) は観点特化の視点を強化し、一貫性検証の核心機能を最大化する** (根拠: Round 009, C2a, 効果+3.0pt、検出率90% (+25%改善)、SD=0.0)
    - ロール設定により一貫性検証の核心的視点 (既存パターン照合、命名規則体系化) を強制
    - 命名規約カテゴリで劇的改善: P01 (テーブル名混在) △△→○○、P03 (外部キー命名) △△→○○
    - API設計カテゴリで劇的改善: P04 (HTTPメソッド混在) ××→○○、P06 (RestTemplate選定) ×→○○ (Baseline Run2未検出を安定検出)
    - 評価プロセスの標準化により完全安定性達成 (SD=0.0、両実行で同一スコア11.0)、ボーナス検出も両実行で4件に統一
    - M1b (検出と報告の分離) + C2a (専門家視点) の相乗効果により検出率80%→90%段階的向上
    - 弱点: エンドポイントパス分析が相対的に優先度低下 (P05 エンドポイントパス不整合で-0.25pt)
    - 適用範囲: consistency観点全般、高精度・高安定性要求環境
    - 改善方向: C2a-v2 (専門家ペルソナ + エンドポイントパス分析明示化) でP05検出改善
