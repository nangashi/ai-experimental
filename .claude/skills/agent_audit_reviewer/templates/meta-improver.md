以下の手順でプロンプト改善バリアントを生成してください:

## 入力の読み込み

1. Read で以下のファイルを読み込む:
   - {current_best_path} （現在のベストプロンプト — 全文を理解する）
   - {history_path} （最適化履歴 — 特に以下に注目する）:
     - 「Current Error Analysis」: カテゴリ別の検出状況、プロンプトギャップ、改善方向
     - 「Item Discrimination」: 識別力の高い問題（改善対象）、床/天井問題（対象外）
     - 「Round History」: 過去の変更とその効果
     - 「Effective Changes」: 効果があった変更パターン
     - 「Ineffective Changes」: 効果がなかった変更パターン（**同類の変更は避けること**）
   - {proven_insights_path} （エージェント横断の知見 — Error→Fix パターンを参考にする）
   - {perspective_path} （観点定義 — 評価スコープを理解する）

## 分析フェーズ

2. 現在のベストプロンプトを以下の観点で分析する:

   a. **識別力による対象選定**:
      - 識別力「高」の問題を**優先的な改善対象**とする（プロンプト変更の効果が最も反映される）
      - 識別力「低（天井）」→ 対象外（既に十分検出されている）
      - 識別力「低（床）」→ 優先度を下げる（プロンプト変更だけでは改善困難な可能性が高い）

   b. **カテゴリ別弱点分析**:
      - error analysis の Missed/Partial テーブルからカテゴリ別の弱点を特定する
      - プロンプトのどのセクション/記述が不足しているかを特定する

   c. **強みの特定**:
      - error analysis の Strengths to Preserve を確認する
      - **これらの要素を変更してはいけない**

   d. **過去の失敗回避**:
      - Ineffective Changes の全エントリを確認する
      - 同類の変更は生成しない

   e. **クロスエージェント知見**:
      - proven-insights.md から現在のエラーカテゴリに適用可能なパターンを探す
      - Anti-Patterns に該当する変更を避ける

3. 分析結果に基づき、2つの改善方針を策定する。各方針は:
   - 具体的なカテゴリ弱点を対象とすること
   - 過去に失敗した変更と同類でないこと
   - 強みを保持すること
   - 2つの方針は**異なるカテゴリ/アプローチ**を対象とすること

   **交差バリアントの検討**: Effective Changes に独立したカテゴリを対象とするエントリが2件以上ある場合、それらの変更を1つのバリアントに統合する方針を検討すること。過去に個別に効果が実証された変更の組み合わせは、未検証の新規変更より成功確率が高い。ただし、変更同士が干渉する可能性がある場合（同じセクションを対象とする、注意資源を競合するなど）は避ける。

## 回帰予測フェーズ（必須）

4. **各方針についてカテゴリ別の影響を予測する**:

   方針ごとに以下のテーブルを作成する:
   | カテゴリ | 現在の検出率 | 予測変化 | 理由 |
   |---------|------------|---------|------|

   **回帰チェック**: 検出率が低下するカテゴリがある場合:
   - 低下幅が 0.15 以上 → 方針を修正するか、低下を防ぐ追加措置を含める
   - 低下幅が 0.15 未満 → 許容範囲として記録する

## 生成フェーズ

5. 各方針に基づきベストプロンプトを改変して2つのバリアントを生成する:
   - **変更は対象カテゴリに直接関連する部分のみ**。無関係な部分は変えない
   - YAML frontmatter、ロール定義、ドメイン固有用語は保持する
   - 元プロンプトの言語を維持する
   - 各バリアントの先頭に以下の Benchmark Metadata コメントを付与する:

   ```
   <!-- Benchmark Metadata
   Round: {round_number}
   Base: {current_best のファイル名}
   Change: {変更内容の1行要約}
   Target: {対象カテゴリ}
   Rationale: {なぜこの変更が効果的と考えるか}
   Predicted-regression: {回帰が予測されるカテゴリ。なければ "none"}
   -->
   ```

6. Write で保存する:
   - {prompts_dir}/v{NNN}-variant-{name1}.md （NNN = round_number + 1）
   - {prompts_dir}/v{NNN}-variant-{name2}.md

7. 以下のフォーマットで返答する（プロンプト本文は含めない）:

## 分析結果
- 主要な弱点カテゴリ: {カテゴリ名リスト}
- 識別力高の対象問題: {問題ID リスト}
- 保持すべき強み: {強みリスト}

## 回帰予測
- 方針1: {カテゴリ別影響の要約}
- 方針2: {カテゴリ別影響の要約}

## 生成したバリアント
- variant_count: 2
1. v{NNN}-variant-{name1}.md
   - 対象カテゴリ: {カテゴリ}
   - 変更内容: {説明}
   - 仮説: {期待効果}
   - 予測回帰: {回帰カテゴリ or "none"}
2. v{NNN}-variant-{name2}.md
   - 対象カテゴリ: {カテゴリ}
   - 変更内容: {説明}
   - 仮説: {期待効果}
   - 予測回帰: {回帰カテゴリ or "none"}
