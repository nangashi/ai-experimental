# Skill Quality Criteria

全レビューアーが共有する評価基準。各レビューアーは自身の担当観点のセクションを重点的に評価する。

## 重大度定義

- **重大（Critical）**: スキルが正しく機能しない、またはエラーや不正な出力を引き起こす問題
- **改善（Improvement）**: スキルは動作するが、測定可能な品質向上が見込める問題
- **良い点（Positive）**: 品質基準を満たしている、または優れた設計が確認できた点

## 影響度・修正コスト定義

レビューアーは各指摘（重大な問題・改善提案）に以下の評価を付与する:

### Impact（影響度）
- **high**: スキルの主要機能・ワークフローに影響。複数フェーズにまたがる問題、またはユーザーに直接的な不利益がある
- **medium**: 特定のフェーズ・条件下で問題が発生する。スキルは動作するが品質が低下する
- **low**: 稀なケースでのみ発生、または改善効果が限定的

### Effort（修正コスト）
- **high**: 複数ファイルの構造変更が必要。新規テンプレート作成やワークフロー再設計を伴う
- **medium**: 1-2ファイルの修正が必要。既存構造内での変更
- **low**: 1ファイル内の局所的な修正で対応可能

## 評価観点

### 1. 指示品質・安定性
- 「適切に」「必要に応じて」等の曖昧表現がないこと（具体的な基準を明示）
- サブエージェント返答の行数・フィールド名・区切りが明示されていること
- 全ての条件分岐（if/else）が全分岐を明示していること
- 再実行で状態破壊・ファイル重複が起きない設計であること
- テンプレート内の `{variable}` プレースホルダが全て SKILL.md で定義されていること
- SKILL.md/テンプレートで言及されたファイルパスがスキルディレクトリ内に実在すること

### 2. 効率性・コンテキスト最適化
- SKILL.md が 250行以下であること
- 削除・統合可能な冗長ステップがないこと
- サブエージェント間のデータ受け渡しがファイル経由であること（3ホップ禁止）
- サブエージェントが不要なファイルを読み込んでいないこと
- サブエージェントの粒度が適切であること（過度に細かい/粗い委譲がない）

### 3. UX・ワークフロー設計
- 各フェーズで進捗情報（フェーズ名、タスク数、完了数）が出力されること
- 外部アクセス・大規模変更の前に AskUserQuestion が配置されていること（欠落なし）
- 複数の独立した提案を一括承認させず、個別承認が行われること
- エラー時のユーザー向けメッセージが原因・対処法・動的情報を含んでいること（処理フロー設計の有無は「4. アーキテクチャ」で評価）
- 使い方セクションに呼び出し構文・パラメータ・動作説明が記載されていること
- 複数の提案・変更をユーザーに承認させる箇所では、一括承認（全承認 or キャンセル）ではなく提案ごとの個別承認が行われること

### 4. アーキテクチャ・パターン
- 7行超のサブエージェント指示がテンプレートファイルに外部化されていること
- 「Read template + follow instructions + path variables」パターンが一貫して使用されていること
- 反復的な最適化ループがある場合、知見蓄積の仕組みが有界サイズ・保持+統合方式で管理されていること
- サブエージェント失敗・ファイル不在・部分完了時の処理フロー（リトライ/スキップ/中止の分岐と判定基準）が定義されていること（メッセージの質は「3. UX」で評価）
- 最終成果物に対する構造検証（必須セクション・フィールドの存在確認）の記述があること
- スキルディレクトリ外のファイルへの参照がないこと（外部参照がある場合はスキル内へのコピーを推奨）

### 5. 有効性・目的達成度
- スキルの宣言された目的が具体的・境界明確・成功基準推定可能であること
- 「使い方」セクションで言及された成果物が、いずれかのフェーズで実際に生成されること（欠落ステップがないこと）
- フェーズ間のデータフローに情報欠落・暗黙的依存がないこと
- 空リスト・入力バリデーション・必須セクション欠落に対する処理が SKILL.md 内に記述されていること
