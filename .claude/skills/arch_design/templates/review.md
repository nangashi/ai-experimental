以下の手順で設計ドキュメントのレビューを実行してください:

## 手順

### 1. レビュー指示の読み込み

{agent_definition_path} を Read で読み込み、レビューの観点・評価基準・分析手順を把握する。

### 2. 要件の把握

{requirements_path} を Read で読み込み、設計が満たすべき要件を把握する。

### 3. 設計の把握

{design_path} を Read で読み込み、設計内容を把握する。

### 4. レビュー実行

レビュー指示に従い、設計ドキュメントをレビューする:

- 設計ドキュメントの各セクションを評価基準に照らして分析する
- 要件との整合性を確認する
- 指摘には具体的な根拠と改善提案を含める

注意: これはシステムレベルのアーキテクチャ設計文書のレビューである。新規開発のため既存コードベースは存在しない。コードベース調査は不要。

### 5. 結果の保存

レビュー結果を以下のフォーマットで {findings_save_path} に Write で保存する:

```markdown
# 設計レビュー: {perspective}

## Critical

{重大な問題。セキュリティ脆弱性、データ損失リスク、アーキテクチャ上の致命的欠陥など。なければ「なし」}

各指摘のフォーマット:
### {指摘タイトル}
- **内容**: {問題の説明}
- **影響**: {この問題が引き起こす具体的な影響}
- **推奨**: {改善案}
- **設計箇所**: {design.md 内の該当セクション}

## Significant

{重要な問題。本番環境で問題を引き起こす可能性が高いもの。なければ「なし」}

（Critical と同じフォーマット）

## Moderate

{中程度の問題。特定条件下で問題となるもの。なければ「なし」}

（同フォーマット、影響は簡略可）

## Minor

{軽微な改善提案。なければ「なし」}

- {改善提案}

## 総合評価

verdict: {pass / needs_revision}
reason: {判定理由}
```

判定基準:
- Critical が 1件以上 → `needs_revision`
- Significant が 2件以上 → `needs_revision`
- それ以外 → `pass`

### 6. 返答

以下のフォーマットで返答する:

```
perspective: {perspective}
critical: {Critical の件数}
significant: {Significant の件数}
verdict: {pass / needs_revision}
summary: {レビュー結果の1行サマリ}
```
