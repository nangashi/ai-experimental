# 観点定義: ドメイン知識充足度分析（Domain Knowledge Adequacy）

## 概要

エージェント定義に含まれるドメイン知識の充足度を評価する分析サブエージェント（analyze-domain-knowledge）のテスト用観点。テストエージェント定義に埋め込む「ドメイン知識の品質問題」のカテゴリと例を定義する。

テスト対象: analyze-domain-knowledge サブエージェントが、エージェント定義中のドメイン知識不足をどれだけ正確に検出できるか。

## 評価スコープ

analyze-domain-knowledge サブエージェントが検出すべき問題:

- **知識カバレッジ**: perspectiveが定義するドメイン領域に対して、エージェント定義がカバーしていない領域
- **チェックリスト不足**: 具体的なチェック項目やヒューリスティクスが欠落している領域
- **ドメイン固有用語**: ドメイン特有の概念・用語が認識されていない（使われていない）
- **反生産的指示**: ドメイン知識に基づくと逆効果になる指示
- **知見の未反映**: knowledge.mdに蓄積された知見がエージェント定義に反映されていない

## スコープ外

- 評価基準の品質問題（具体性・実行可能性等） → criteria-effectiveness で扱う
- スコープ定義の問題 → scope-alignment で扱う
- 盲点検出の問題 → blind-spots-detection で扱う
- ドメイン知識の「正確性」の最終判断（明らかな誤りの検出は対象だが、専門的判断は対象外）

## ボーナス/ペナルティの判定指針

- **ボーナス対象**: 正解キーに含まれないが、ドメイン知識の充足度に関する有効な追加指摘
- **ペナルティ対象**: 基準の品質への指摘、スコープの問題への指摘

## 問題バンク

| カテゴリ | 問題例 | 深刻度 |
|---------|--------|-------|
| 重要領域の完全欠落 | セキュリティレビューにOWASP Top 10への言及が一切ない | 重大 |
| 反生産的指示 | 「全ての入力にエスケープ処理を適用」（コンテキストに応じたエンコーディングが必要で、一律エスケープは誤り） | 重大 |
| 誤ったドメイン知識 | 「RSA暗号化には最低1024ビットが必要」（現在の推奨は2048ビット以上） | 重大 |
| チェックリスト不足 | パフォーマンスレビューにデータベースクエリ最適化のチェック項目がない | 中 |
| ドメイン用語の欠如 | 信頼性レビューに「フェイルオーバー」「サーキットブレーカー」「バルクヘッド」等の概念が不在 | 中 |
| 知見の未反映 | knowledge.mdに「N+1クエリは最頻出パフォーマンス問題」と記録されているが、チェック項目に含まれていない | 中 |
| 表層的カバレッジ | 「認証を確認する」とだけ記載（OAuth/JWT/セッション等の具体的手法への言及なし） | 中 |
| 陳腐化した知識 | 古いフレームワークバージョン前提の指示（現行では非推奨のAPI使用を推奨） | 軽微 |
| 補足知識の欠落 | エラーハンドリングの指示はあるが、構造化ログへの言及がない | 軽微 |
| ベストプラクティスの粒度不足 | 「キャッシュを適切に使用すること」（キャッシュ戦略の選択基準やinvalidation方針がない） | 軽微 |
