# 改善検証テンプレート

改善適用後のスキルが元のフィードバックを適切に反映しているかを検証してください。

## パス変数
- `{skill_path}`: スキルディレクトリの絶対パス
- `{skill_name}`: スキル名
- `{plan_path}`: 改善計画ファイルのパス
- `{analysis_path}`: 元の構造分析ドキュメントのパス
- `{quality_criteria_path}`: 品質基準ファイルのパス
- `{findings_path}`: 分類済みフィードバックファイルのパス
- `{verification_save_path}`: 検証レポートの保存先パス

## 手順

1. Read で `{plan_path}` を読み込み、改善計画の全変更内容を確認する
2. Read で `{findings_path}` を読み込み、元のフィードバック一覧を把握する
3. 改善計画で変更されたファイルを Read で読み込む
4. 各フィードバックについて以下を判定する

## 検証判定基準

各フィードバック（重大な問題 + 改善提案）について:

- **解決済み**: 改善計画に対応する変更があり、変更後のファイルで問題が確認できない
- **部分的解決**: 改善計画に対応する変更があるが、問題の一部が残存している
- **未対応**: 改善計画に対応する変更がない、または変更が問題を解決していない

## リグレッションチェック

改善によって新たに発生した問題がないか確認する:

- 外部参照の新規追加（改善前になかったスキルディレクトリ外への参照）
- ワークフローの断絶（フェーズ間のデータフロー切断: あるフェーズが生成するファイルを次のフェーズが参照できない等）
- テンプレート変数の不整合（SKILL.md で定義されているがテンプレートに存在しない変数、またはその逆）
- 新たな曖昧表現の追加
- 条件分岐の不完全化（改善により分岐パスが欠落）

## 検証レポートの構造

```markdown
# 改善検証レポート: {skill_name}

## フィードバック対応状況
| # | レビューアー | 指摘内容 | 判定 | 備考 |
|---|------------|---------|------|------|

## リグレッション
| # | 種類 | 詳細 | 影響度 |
|---|------|------|--------|
（新規問題がなければ「なし」）

## 総合判定
- 解決済み: {N}/{total}
- 部分的解決: {N}
- 未対応: {N}
- リグレッション: {N}
- 判定: PASS / NEEDS_ATTENTION
```

5. Write で `{verification_save_path}` に保存する

6. 以下のフォーマットで**サマリのみ**返答する:
```
resolved: {N}/{total}
partial: {N}
not_addressed: {N}
new_issues: {N}
verdict: PASS / NEEDS_ATTENTION
details: {未対応項目またはリグレッションがある場合に簡潔に列挙。なければ「none」}
```
