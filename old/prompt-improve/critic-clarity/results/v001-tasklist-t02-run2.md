# T02 Evaluation Result

## Test Scenario
Vague Perspective with Subjective Language

## Execution

### Phase 1: 評価スコープ分析
- [x] 各評価スコープ項目を1つずつ読み、主観的表現（「適切」「十分」「妥当」等）をマークする
  - 「アルゴリズムの計算量が適切か」 → 「適切」をマーク
  - 「データベースクエリが最適化されているか」 → 「最適化」をマーク
  - 「キャッシュが適切に活用されているか」 → 「適切に活用」をマーク
  - 「メモリ使用量が妥当か」 → 「妥当」をマーク
  - 「並列処理が効果的に実装されているか」 → 「効果的」をマーク
  - 「ユーザー体験を損なわない応答時間か」 → 「損なわない」をマーク
- [x] マークした表現それぞれに対し、「複数AIが同じ基準で判定できるか」を検証する
  - すべての主観的表現にカッコ内の具体例や数値基準が欠如しているため、AI間で判定基準が異なる可能性が高い
- [x] 曖昧な項目について、具体的な代替表現を考案する
  - 実施（Phase 4で詳述）

### Phase 2: 動作一貫性テスト
- [x] 各スコープ項目単体で「AIに何を確認させるか」を1文で述べられるかテストする
  - 「アルゴリズムの計算量が適切か」 → 「何を確認するか」が不明確（O(n^2)は適切か？ O(n log n)は？）
  - 「データベースクエリが最適化されているか」 → インデックス使用、N+1問題回避等の具体基準がない
  - 「キャッシュが適切に活用されているか」 → どの程度のキャッシュヒット率が「適切」か不明
  - 「メモリ使用量が妥当か」 → 数値基準がなく判定不可
  - 「並列処理が効果的に実装されているか」 → 「効果的」の測定方法が不明
  - 「ユーザー体験を損なわない応答時間か」 → 数値目標がない（100ms？ 1秒？ 3秒？）
- [x] ボーナス/ペナルティ判定指針の境界ケースを3つ挙げ、判定が一意に決まるか確認する
  - この観点定義にはボーナス/ペナルティセクションがない
- [x] スコープ外項目について「なぜスコープ外か」の根拠が明確か確認する
  - 「詳細なベンチマーク測定」: パフォーマンスレビューとの境界が曖昧（ベンチマークなしでパフォーマンスをどう評価？）
  - 「特定のハードウェア環境での最適化」: 一般的な最適化との境界は判断可能

### Phase 3: 実行可能性確認
- [x] 各スコープ項目が「問題パターン」として機能するか検証する（抽象的すぎないか）
  - すべての項目が抽象的で、具体的な検出パターンに落とし込めていない
- [x] 問題バンクの例が、AI実行時の検出基準として十分具体的か確認する
  - 「応答時間が非常に遅い」 → 「非常に遅い」の基準が不明確（1秒？ 5秒？ 30秒？）
  - 「メモリリークが発生している」 → 検出方法は比較的明確（メモリ使用量の増加パターン）
  - 「不要な同期処理がある」 → 「不要」の判断基準が不明
  - 「キャッシュが使われていない箇所がある」 → やや具体的だが、「どの箇所にキャッシュが必要か」の基準がない
  - 「一部のコードに改善の余地がある」 → 極めて曖昧（何が「改善の余地」か不明）
- [x] 深刻度区分（重大/中/軽微）が問題バンクから推測可能か確認する
  - 重大: システムの動作不全または重大なリソース問題（推測可能だが、「非常に遅い」が曖昧）
  - 中: パフォーマンス低下の原因（推測可能）
  - 軽微: 「一部のコードに改善の余地」では深刻度の根拠が不明

### Phase 4: 報告作成
- [x] 重大な問題を優先順にリストアップする（AIの動作に大きなブレが生じるもの）
- [x] 改善提案を具体的な代替表現とともに記述する
- [x] 良い点（明確で一貫性のある箇所）を確認事項として記録する

## 出力

### 明確性批評結果

#### 重大な問題（AIの動作に大きなブレが生じる）
- [評価スコープ/処理効率]: 「アルゴリズムの計算量が適切か」 → 「アルゴリズムの計算量がO(n log n)以下か、またはO(n^2)の場合は入力サイズが1000件未満に制限されているか」
- [評価スコープ/処理効率]: 「データベースクエリが最適化されているか」 → 「N+1問題がない、インデックスが使用されている（EXPLAIN分析で確認）、1クエリあたりの取得レコード数が1万件未満」
- [評価スコープ/レスポンス性]: 「ユーザー体験を損なわない応答時間か」 → 「主要APIエンドポイントの応答時間が200ms以内（95パーセンタイル）、バッチ処理は30秒以内」
- [問題バンク/重大]: 「応答時間が非常に遅い」 → 「APIエンドポイントの応答時間が3秒を超える、またはバッチ処理が5分を超える」
- [問題バンク/軽微]: 「一部のコードに改善の余地がある」 → 削除推奨（具体的な問題パターンでない）

#### 改善提案
- [評価スコープ/処理効率]: 「キャッシュが適切に活用されているか」 → 「頻繁にアクセスされるデータ（同一リクエストで2回以上読み込まれるもの）にキャッシュが使用されているか、キャッシュヒット率が80%以上か」
- [評価スコープ/リソース利用]: 「メモリ使用量が妥当か」 → 「アプリケーションのピークメモリ使用量が割り当てメモリの80%未満か、メモリリークがないか（長時間実行で使用量が増加し続けない）」
- [評価スコープ/リソース利用]: 「並列処理が効果的に実装されているか」 → 「CPU密集処理で並列化により実行時間が50%以上短縮されているか、スレッド数がCPUコア数の2倍以内か」
- [問題バンク/中]: 「不要な同期処理がある」 → 「非同期実行可能な処理（外部API呼び出し、ファイルI/O）で同期処理を使用している」
- [問題バンク/中]: 「キャッシュが使われていない箇所がある」 → 「同一セッション内で同じデータベースクエリが3回以上実行されている箇所でキャッシュが未使用」

#### 確認（良い点）
- 「メモリリークが発生している」は検出方法が比較的明確（メモリ使用量の継続的増加パターンで判定可能）
- 「重い処理がバックグラウンド化されているか」は検出可能（同期/非同期の実装確認）
- スコープ外の「特定のハードウェア環境での最適化」は一般的な最適化と区別可能
