# T06 Evaluation Result

## Phase 1: 評価スコープ分析

### 主観的表現のマーク
- "主要な機能" → 主要性の判断基準なし
- "エッジケース" → エッジケースの定義なし（どのようなケースがエッジか?）
- "定期的に実行される" → 定期性の具体基準なし（ただしカッコ内でCI設定を確認と補足）
- "独立して実行可能か" → カッコ内で具体化済み（テスト間の依存がないか）
- "モックやスタブが適切に使われているか" → 適切性の基準なし
- "アサーションが具体的か" → カッコ内で具体化済み（assertEqual等の例示）

### 複数AI判定の検証
- "主要な機能"は、AI間で判断が分かれる（認証機能は主要? ログ機能は?）
- "エッジケース"の範囲がAIによって異なる可能性が高い
- "適切に使われている"は、適切性の基準がなくAI判断が一致しない

### 代替表現
- "主要な機能" → "ユーザー向けの公開API、またはアプリケーションのコアロジック（認証、データ処理、重要なビジネスルール）"
- "エッジケース" → "境界値（0、負数、最大値）、nullや空文字列、異常系（エラー発生時の挙動）"
- "モックやスタブが適切に使われているか" → "外部依存（DB、API、ファイルシステム）がモック化されているか"

## Phase 2: 動作一貫性テスト

### 各スコープ項目の確認内容
- "主要な機能にテストがあるか" → 一意に述べられない（主要性の基準なし）
- "エッジケースのテストがあるか" → 一意に述べられない（エッジケースの定義なし）
- "テストが定期的に実行される仕組みがあるか" → "CI設定ファイル（.github/workflows等）を確認する"（比較的明確）
- "テストが独立して実行可能か" → "各テストが他のテストの実行結果に依存していないか確認する"（明確）
- "モックやスタブが適切に使われているか" → 一意に述べられない（適切性の基準なし）
- "アサーションが具体的か" → "assertTrue以外のアサーション（assertEqual、assertRaises等）が使われているか確認する"（比較的明確）

### ボーナス/ペナルティの境界ケース
本定義にはボーナス/ペナルティセクションが存在しない。

### スコープ外の判断明確性
- "パフォーマンステスト" → 明確にスコープ外と判断可能
- "E2E テストの詳細なシナリオ設計" → 明確にスコープ外と判断可能

## Phase 3: 実行可能性確認

### 問題パターンとしての機能性
- "テストの存在"、"テスト間の依存"、"CI設定の有無" → 検出可能
- "主要な機能"、"エッジケース"、"適切なモック" → 抽象的で何を探せばよいか不明確

### 問題バンクの具体性
- 重大: "テストが存在しない" → 明確
- 重大: "テストが常に失敗している" → 明確
- 重大: "テスト実行に他のテストの成功が必要（依存あり）" → 明確
- 中: "カバレッジが50%未満" → 数値基準で明確
- 中: "モックが使われていない箇所がある" → 「箇所」の範囲が不明（1箇所でも該当? 複数箇所?）
- 中: "アサーションが曖昧（例: assertTrue のみ）" → 具体例があり明確
- 軽微: "一部のエッジケースにテストがない" → 「一部」の範囲が不明（1個? 3個? 半分?）
- 軽微: "テストの実行時間が長い（5秒以上）" → 数値基準で明確

### 深刻度区分の推測可能性
具体的な数値基準（50%、5秒）がある項目は推測可能だが、「一部」「箇所」等の曖昧な表現は推測困難。

## Phase 4: 報告作成

### 明確性批評結果

#### 重大な問題（AIの動作に大きなブレが生じる）
- [評価スコープ「主要な機能」と問題バンク「カバレッジ50%未満」の不整合]: 評価スコープは「主要な機能」という主観的表現を使用しているが、問題バンクでは「カバレッジ50%」という数値基準が登場し、両者の関係が不明確。「主要な機能にテストがあればカバレッジは何%でもよい」のか、「50%以上が必須」なのかAI判断が分かれる → 評価スコープに"主要機能のテストカバレッジが50%以上か"と明記するか、問題バンクの数値基準を削除して「主要な機能の大部分にテストがない」に統一
- [評価スコープ「主要な機能」「エッジケース」]: 主要性・エッジケースの定義がなく、AI間で判断が大きく分かれる → "主要な機能（ユーザー向け公開API、コアロジック）"、"エッジケース（境界値、null、異常系）"等の具体例を追加
- [評価スコープ「モックやスタブが適切に使われているか」]: 適切性の基準がなく、AI判断が一致しない → "外部依存（DB、API、ファイルシステム）がモック化されているか"等の検出可能な基準に置換

#### 改善提案
- [問題バンク「一部のエッジケースにテストがない」]: 「一部」の範囲が曖昧で、1個欠けても該当するのか、半分欠けている場合かが不明 → "特定されたエッジケースの30%以上にテストがない"等の数値基準を追加
- [問題バンク「モックが使われていない箇所がある」]: 「箇所」の範囲が不明 → "外部依存を持つテストの30%以上でモックが使われていない"等の数値化
- [カバレッジ50%の境界]: 49%と51%の境界ケースでAI判断が一致するか検証が必要 → 境界値の扱いを明記（"50%未満（50%を含まず）"または"50%以下"）
- [「主要な機能のみカバー」との関係]: カバレッジ50%は「主要な機能のみテスト」なのか「全機能の半分」なのか不明 → 評価スコープと問題バンクの整合性を確保（どちらかに統一）

#### 確認（良い点）
- 問題バンクに具体的な数値基準（カバレッジ50%、5秒以上）があり、これらの項目はAI判断が一致しやすい
- "例: assertTrue のみ"という具体例がAI判断を補助している
- テスト依存の問題が明確に定義されている（"他のテストの成功が必要"）
- スコープ外が明確に定義されている
