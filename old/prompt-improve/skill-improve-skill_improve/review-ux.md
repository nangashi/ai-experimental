### UXレビュー結果

#### 重大な問題
なし

#### 改善提案
- [ユーザーインタラクション: 一括承認パターン]: [Phase 4] Phase 4 の改善計画承認で「全て承認」/「修正要望あり」/「キャンセル」の3択を提供しているが、計画内に複数の改善項目が含まれる場合、ユーザーが提案ごとに個別承認/却下できない。品質基準 3. UX・ワークフロー設計「複数の提案・変更をユーザーに承認させる箇所では、一括承認（全承認 or キャンセル）ではなく提案ごとの個別承認が行われること」に抵触。改善案: Phase 4 で計画生成後、各改善項目（ファイルごと、またはカテゴリごと）に対する個別承認ループを追加。
- [進捗可視性: Phase 2 未完了理由の遅延]: [Phase 2] レビュー成功数 ≥3 の場合「最低基準（3件）を満たしているため、続行します。」と出力するが、その前に「失敗したレビューアー名と失敗理由をテキスト出力する」指示がある。しかし、成功数 ≤2 の場合のみ AskUserQuestion で失敗情報を提示する流れになっており、成功数 ≥3 の場合にユーザーが失敗情報を確認できるタイミングが不明確。改善案: 成功数 <4 の場合は常に失敗レビューアー名と失敗理由を先にテキスト出力し、その後に続行判定を行う。
- [エラー通知: 再試行上限の具体的数値明示不足]: [Phase 6] NEEDS_ATTENTION 判定時に「再試行上限に達しました」と出力するが、上限値（1回）が変数 `{retry_count}` の条件分岐からしか読み取れない。ユーザーがエラーメッセージから「あと何回試行できるか」を直感的に把握できない。改善案: 「再試行上限（1回）に達しました」または「再試行回数: {retry_count}/{max_retry}」の形式で出力。
- [ユーザーインタラクション: 情報提示不足]: [Phase 6] NEEDS_ATTENTION 時に「このまま受け入れる」/「追加修正を実施」/「全変更を取り消す」の選択肢を提供する際、「このまま受け入れる」選択の影響（未解決項目が残る、どの品質問題が放置されるか）が十分に説明されていない。改善案: 選択肢提示前に「未解決項目: {件数}件、影響範囲: {概要}」を出力し、ユーザーが判断材料を得られるようにする。
- [進捗可視性: Phase 5 詳細の省略]: [Phase 5] サブエージェント完了後、「## Phase 5: 改善適用完了」と返答内容（modified, created, skipped, delete_recommended の件数）を出力するが、Standard mode でも「どのファイルにどの変更が適用されたか」の詳細が省略される。ユーザーが変更内容を事後検証する際に不便。改善案: Standard mode では変更ファイルリスト（ファイル名+変更種別）を出力する。
- [使い方ドキュメント: 期待される動作の概要不足]: [SKILL.md 冒頭] 使い方セクションに呼び出し構文とパラメータは記載されているが、「このスキルが何をするか」「各フェーズで何が起きるか」「完了時に何が得られるか」の概要説明が冒頭の1行のみで簡潔すぎる。初回利用者が実行前に全体像を把握しにくい。改善案: 使い方セクションに「期待される動作」サブセクションを追加し、フェーズ概要（Phase 0-7 の流れ）と完了時の成果物（改善適用済みスキル、作業ディレクトリのレビュー結果）を記載。
- [ユーザーインタラクション: Fast mode の説明不足]: [Phase 0] 実行モード選択で「Standard（推奨）」「Fast」の2択を提示するが、Fast mode の具体的なスキップ内容（Phase 3 の詳細出力のみ）がユーザーに明示されていない。「Fast = 中間確認スキップ」と誤解される可能性がある。改善案: 選択肢の説明を「Standard（推奨）: Phase 3 で全フィードバック詳細を確認」「Fast: Phase 3 の詳細出力をスキップ（サマリのみ）。改善計画の承認は必須」に変更。

#### チェックポイント監査
| フェーズ | チェックポイント | 情報提示 | 評価 |
|---------|----------------|---------|------|
| Phase 0 | skill_path 未指定時の確認 | 未指定検出時のみプロンプト | 必要（入力バリデーション） |
| Phase 0 | 実行モード選択（Standard/Fast） | 選択肢の説明あり（改善余地あり） | 必要（ユーザー意思決定が必要な分岐点） |
| Phase 1 | Phase 1 失敗時のリトライ確認 | エラー内容を提示 | 必要（不可逆操作のガード：サブエージェント再実行） |
| Phase 2 | レビュー成功数 ≤2 の場合の続行確認 | 成功数と失敗レビューアー名を提示 | 必要（ユーザー意思決定：品質基準未達時の続行判断） |
| Phase 3 | コンフリクト未解決時のトレードオフ選択 | トレードオフ情報（選択肢1/2のメリット・デメリット）を提示 | 必要（ユーザー意思決定：相反する提案からの選択） |
| Phase 4 | Phase 4 失敗時のリトライ確認 | エラー内容を提示 | 必要（不可逆操作のガード：サブエージェント再実行） |
| Phase 4 | 改善計画の承認（全承認/修正要望/キャンセル） | improvement-plan.md の全内容を出力後に確認 | 必要（不可逆操作のガード：ファイル変更前の最終確認）、ただし一括承認パターンのため改善余地あり |
| Phase 4 | 修正要望の入力受け取り | 「修正要望あり」選択時のみプロンプト | 必要（ユーザーの追加指示を反映） |
| Phase 5 | Phase 5 失敗時のリトライ確認 | エラー内容を提示 | 必要（不可逆操作のガード：ファイル変更失敗時の再試行） |
| Phase 6 | Phase 6 失敗時のリトライ確認 | エラー内容を提示 | 必要（サブエージェント失敗時の再試行） |
| Phase 6 | NEEDS_ATTENTION 時の対応選択（retry_count=0） | 未解決項目の全件を抜粋出力 | 必要（ユーザー意思決定：品質検証失敗時の対応選択） |
| Phase 6 | 追加修正の方針入力 | 「追加修正を実施」選択時のみプロンプト | 必要（ユーザーの修正方針を反映） |

#### 良い点
- [進捗可視性]: Phase 0, 2, 3, 4, 5, 6, 7 で一貫してフェーズ名と目的をテキスト出力しており、ユーザーが現在の進行状況を追跡できる。特に Phase 2 では「レビュータスク: 4件」「レビューアー: stability, efficiency, ux, architecture」「対象スキル: {skill_name}」の形式で並列タスクの構成を事前に明示している。
- [エラーハンドリング]: Phase 1, 2, 4, 5, 6 で全てのサブエージェント失敗時にリトライ確認を提供し、Phase 2 では部分完了（成功数 <4）時に明確な続行判定基準（最低3件）を定義している。ユーザーが状況を理解した上で判断できる設計。
- [使い方ドキュメント]: SKILL.md の冒頭に使い方セクションがあり、呼び出し構文（`/skill_improve <skill_path>`）、必須パラメータ（skill_path）、未指定時の挙動（AskUserQuestion で確認）が明示されている。
