# トレードオフ行列

## マトリクス

| 判断基準 | ALT-1: Java 17 | ALT-2: Java 21 | ALT-3: Java 25 |
|----------|-----------------|-----------------|-----------------|
| OBJ-1: 長期的な保守性 | ◎ | ○ | △ |
| OBJ-2: エコシステム成熟度と互換性 | ◎ | ○ | × |
| OBJ-3: 学習コストと生産性 | ◎ | ○ | × |
| OBJ-4: パフォーマンスと技術的優位性 | ○ | ◎ | ○ |
| OBJ-5: 将来の技術選択の柔軟性 | ○ | ◎ | △ |

## 各セルの詳細

### ALT-1 (Java 17) × OBJ-1 (長期的な保守性)
- 評価: ◎
- 利点: Extended Support 2029年9月まで確保、4年以上の運用実績で安定性が高い、複数ディストリビューションが長期サポート提供
- 欠点: 次のLTS（Java 29）への移行が比較的早期に必要になる可能性
- 根拠: サポート期間の確実性が最も高く、トラブルシューティング情報が豊富

### ALT-1 (Java 17) × OBJ-2 (エコシステム成熟度)
- 評価: ◎
- 利点: Spring Boot 3.x正式サポート、サードパーティライブラリ対応が最も成熟、IDE・ビルドツール・CI/CDツール全般で安定
- 欠点: 最先端の技術からは距離がある
- 根拠: リリースから5年経過しエコシステム全体で安定稼働の実績

### ALT-1 (Java 17) × OBJ-3 (学習コストと生産性)
- 評価: ◎
- 利点: Java 8/11からの段階的学習経路が確立、教育リソース最充実、新機能の段階的採用が可能
- 欠点: Records、Sealed Classes、Pattern Matchingの習得は必要
- 根拠: 5年の実績で書籍・研修・Q&Aが最も豊富

### ALT-1 (Java 17) × OBJ-4 (パフォーマンス)
- 評価: ○
- 利点: ベースライン比6%高速、GC改善成熟（ZGC、Shenandoah）、コンテナ最適化進展
- 欠点: Virtual Threads未搭載、Generational ZGC利用不可、Java 21比で約6%低速
- 根拠: 十分な性能だが最先端の性能最適化は得られない。D4（並行処理要件）が大きい場合に差が顕著

### ALT-1 (Java 17) × OBJ-5 (将来の柔軟性)
- 評価: ○
- 利点: 将来LTSへの移行パスが明確、広範なエコシステム互換性
- 欠点: Virtual Threads未搭載により将来のアーキテクチャ選択肢が制限される可能性
- 根拠: 移行事例とツールが豊富だが、新しいフレームワークがJava 21以上を要件にした場合に追従困難

### ALT-2 (Java 21) × OBJ-1 (長期的な保守性)
- 評価: ○
- 利点: LTSとして標準的な長期サポート、リリースから1年半経過し一定の安定性確保
- 欠点: Java 17比でエコシステム成熟度がやや劣る、NFTC版期限（2026年9月）によりディストリビューション選択が重要
- 根拠: OpenJDKディストリビューション経由でサポート継続可能だがS3、D3に依存

### ALT-2 (Java 21) × OBJ-2 (エコシステム成熟度)
- 評価: ○
- 利点: Spring Boot 3.2+で正式サポート、主要フレームワーク対応完了、Virtual Threads活用事例増加中
- 欠点: Java 17比でトラブルシューティング情報・コミュニティサポートが少ない
- 根拠: 2年経過し主要エコシステム要素は対応済みだが情報蓄積に差あり。D1（ライブラリ互換性）の不確実性が影響

### ALT-2 (Java 21) × OBJ-3 (学習コストと生産性)
- 評価: ○
- 利点: Virtual Threads習得後の生産性向上が期待、Java 17の機能に加え新機能で開発効率向上
- 欠点: Virtual Threadsの構造化並行性は新概念で学習コスト高、教育リソースがJava 17比で少ない
- 根拠: D4（並行処理要件）が小さい場合やD2（学習コスト許容度）が厳しい場合は評価が△に低下

### ALT-2 (Java 21) × OBJ-4 (パフォーマンス)
- 評価: ◎
- 利点: ベースライン比12%高速、Virtual Threadsで並行処理を革新、Generational ZGCで10%改善
- 欠点: Java 25比で最新の最適化が含まれない可能性（ただし実証データなし）
- 根拠: パフォーマンス機能が本番利用可能なレベルで成熟。D4が大きくD5がコンテナ環境の場合に最大効果

### ALT-2 (Java 21) × OBJ-5 (将来の柔軟性)
- 評価: ◎
- 利点: Virtual Threadsにより将来のアーキテクチャ選択肢が大幅拡大、次期LTSへの段階的移行が可能
- 欠点: Java 25比で技術的負債蓄積リスクがやや高い（差は限定的）
- 根拠: 並行処理モデルへの早期適応が将来の技術選択を広げる。S2、D4に依存

### ALT-3 (Java 25) × OBJ-1 (長期的な保守性)
- 評価: △
- 利点: 最新LTSとして最長の将来サポート期間、技術的負債の蓄積リスクが最低
- 欠点: リリース後半年で安定性未検証、トラブルシューティング情報不足、ディストリビューションのサポート開始時期が不確定
- 根拠: D6（エコシステム成熟度）に強く依存。早期採用による未発見バグのリスクが高い

### ALT-3 (Java 25) × OBJ-2 (エコシステム成熟度)
- 評価: ×
- 利点: 最新LTSとして長期的にはエコシステムが追従
- 欠点: リリース半年未満で主要フレームワーク正式サポートが限定的、ライブラリ互換性検証不足、ドキュメント著しく不足
- 根拠: エコシステム成熟には通常2-3年を要する。D6、D1に依存し現時点での採用リスクが極めて高い

### ALT-3 (Java 25) × OBJ-3 (学習コストと生産性)
- 評価: ×
- 利点: 最新機能を利用可能（習得後）
- 欠点: 教育リソースがほぼ存在しない、累積的学習コストが極めて高い、未知の問題で生産性大幅低下リスク
- 根拠: D6（エコシステム成熟度）が低く、S5（チーム未習熟）の場合に学習負荷が深刻化

### ALT-3 (Java 25) × OBJ-4 (パフォーマンス)
- 評価: ○
- 利点: 理論上は最新の最適化を含む、Java 21の全改善を継承
- 欠点: 実戦パフォーマンスデータが不足、性能チューニングのナレッジが未蓄積
- 根拠: 理論上の優位性はあるがJava 21の実証済み性能改善と比較すると確実性が低い。D6に強く依存

### ALT-3 (Java 25) × OBJ-5 (将来の柔軟性)
- 評価: △
- 利点: 最長サポート期間、最新機能で技術的負債最小化、新ライブラリとの将来互換性
- 欠点: エコシステム未成熟により開発初期の選択肢が制限、フォールバック選択肢が限定的
- 根拠: 長期的には有利だがD6、D1の不確実性が近い将来の柔軟性を損なう。S11（安定性優先）の場合は不利
