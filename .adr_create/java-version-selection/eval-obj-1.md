# OBJ-1: 長期的な保守性の確保 — 評価結果

## 提案した代替案

- **Java 17**: LTS版として2021年リリース、2029年9月までExtended Support確保。エコシステムが最も成熟しており、Spring Boot 3の最小要件を満たす。長期的な保守性の観点から最も安定した選択肢
- **Java 21**: 2024年リリースのLTS版。NFTC版は2026年9月で終了するがOpenJDKディストリビューション経由で長期サポート継続可能。Java 17より新しいが十分に成熟
- **Java 25**: 2025年9月リリースの最新LTS版。標準的な長期サポートを受けられるが、エコシステムの成熟度は未知数。長期保守の観点では早期採用のリスクがある

## 評価

### Java 17

- 評価: ◎
- 利点:
  - Oracle Extended Supportが2029年9月まで確保されており、プロジェクトの開発期間と運用期間（S4, S10の仮定で2-3年以上）を十分にカバーする
  - LTSリリースから既に4年以上経過（2021年9月リリース）しており、重大なバグやセキュリティ問題は修正済みで安定性が高い
  - Eclipse Temurin, Amazon Corretto, Azul Zuluなど複数のOpenJDKディストリビューションが長期サポートを提供しており、ベンダーロックインのリスクが低い（S3の仮定を補強）
  - Spring Boot 3の最小要件（C3）を満たす最も古いバージョンであり、フレームワーク互換性の実績が豊富
  - 業界での採用実績が多く、トラブルシューティング情報やベストプラクティスが充実している
- 欠点:
  - Java 21や25と比較すると新しい言語機能（Virtual Threads, Record Patterns等）が利用できず、将来的に技術的負債となる可能性がある
  - GC性能やメモリ効率の改善（Generational ZGC等）が含まれておらず、インフラコスト最適化の余地が限定的
  - 次のLTS（Java 29, 2027年9月）への移行が比較的早期に必要になる可能性がある
- 根拠:
  - 長期サポート期間の確実性: Oracleのサポートロードマップ（リサーチ結果）で2029年9月までのExtended Supportが明示されている
  - ディストリビューションの多様性: リサーチ結果で複数ベンダーが無償提供しており、S3の仮定が崩れた場合でも代替選択肢が豊富
  - エコシステムの安定性: Spring Boot 3がJava 17を最小要件としており、主要フレームワークの移行が完了している（C3, リサーチ結果）
- CSD依存: S3（OpenJDKディストリビューションの無償継続）に依存。ただしディストリビューションの選択肢が多く、この仮定が崩れるリスクは低い

### Java 21

- 評価: ○
- 利点:
  - LTS版として標準的な長期サポート期間を持つ。NFTC版は2026年9月終了だがOpenJDKディストリビューション経由で継続サポート可能（リサーチ結果、S3の仮定）
  - Java 17から2年半経過（2024年リリース）しており、初期のバグ修正が完了し、一定の安定性を獲得している
  - Virtual Threadsやレコードパターンなど新機能が利用可能で、将来の技術的負債のリスクが17より低い
  - リサーチ結果で性能向上（17比で10-12%、Generational ZGC改善）が確認されており、長期運用でのインフラコスト削減に寄与する可能性
- 欠点:
  - Java 17と比較してエコシステムの成熟度がやや劣る。サードパーティライブラリの互換性が完全には検証されていない可能性（D1の不確実性）
  - NFTC版の無償期限（2026年9月）により、ディストリビューション選択が未確定の場合にライセンス戦略の再検討が必要になる（D3の不確実性）
  - トラブルシューティング情報やベストプラクティスの蓄積がJava 17より少ない
- 根拠:
  - サポート期間: OracleのLTSサポート構造に従い、Premier Supportは最低5年間確保される
  - OpenJDKディストリビューション: Eclipse TemurinやCorrettoがJava 21のサポートを表明しており、S3の仮定が成立すればサポート継続可能
  - 安定性の根拠: 2024年リリースから約1年半経過（2026年2月時点）しており、主要な不具合は解消されている可能性が高い
- CSD依存:
  - S3（OpenJDKディストリビューションの無償継続）に依存。Oracle NFTC版の期限があるため、ディストリビューション選択が重要
  - D1（サードパーティライブラリの互換性）の不確実性が影響。互換性問題が発覚した場合にバージョン変更のリスク
  - D3（Oracle JDK vs OpenJDK系の選択方針）が未確定の場合、ライセンス戦略の再検討が必要

### Java 25

- 評価: △
- 利点:
  - 最新LTS版として最も長い将来のサポート期間を持つ。次のLTS（Java 29, 2027年9月）までの期間が長く、移行の頻度が低い
  - 最新の言語機能とGC改善が含まれており、技術的負債の蓄積リスクが最も低い
  - 将来の技術進化（新フレームワーク、新ライブラリ）への追従可能性が高い（OBJ-5の観点で有利）
- 欠点:
  - **2026年2月時点でリリースから約半年**: 重大なバグやセキュリティ問題が未発見の可能性が高く、安定性の実績が不足している
  - **エコシステムの成熟度が未知数**（D6の不確実性）: サードパーティライブラリ、IDE、ビルドツール、CI/CDツールの対応状況が不透明。互換性問題が開発途中で発覚するリスクが高い
  - **トラブルシューティング情報が不足**: コミュニティでの採用実績が少なく、問題発生時の解決に時間がかかる可能性
  - **OpenJDKディストリビューションのサポート開始時期が未確定**: 各ベンダーのJava 25サポート開始時期が明確でない場合、初期段階でディストリビューション選択肢が限定される（S3の仮定とD3の不確実性）
- 根拠:
  - リリース時期: 2025年9月リリース（リサーチ結果）のため、2026年2月時点で約半年しか経過していない
  - エコシステム成熟度: LTSリリース直後は主要フレームワークやライブラリの対応が遅れることが一般的（Java 11→17の移行期の経験則）
  - 安定性の不確実性: リリースから1年未満のため、重大なバグやセキュリティ問題が発覚するリスクが17/21より高い
- CSD依存:
  - **D6（Java 25のエコシステム成熟度）に強く依存**: エコシステムが未成熟な場合、開発初期段階で互換性問題やツール不足により開発遅延のリスク
  - D1（サードパーティライブラリの互換性）の不確実性が最も高い: Java 17/21より新しいため、ライブラリ対応状況が不透明
  - S3（OpenJDKディストリビューションの無償継続）に依存。さらにJava 25の各ディストリビューションでのサポート開始時期が不確定（D3）

### Java 11

- 評価: ×
- 利点:
  - 長期にわたる運用実績があり、安定性が極めて高い
  - エコシステムが最も成熟しており、ほぼ全てのライブラリ・ツールが対応済み
  - チームの既存スキルセット（S5の仮定）との親和性が最も高く、学習コストがゼロ
- 欠点:
  - **Oracle Java 11のEOLが2026年9月に迫っている**（リサーチ結果）。新規プロジェクトで採用した場合、開発期間の途中または運用初期にサポート終了のリスクが極めて高い
  - OpenJDKディストリビューション（Eclipse Temurin等）のサポート期間に依存するが、S7の仮定通り将来的にサポート終了のリスクがある
  - Spring Boot 3がJava 17を最小要件としており（C3）、最新のフレームワークエコシステムに追従できない。Spring Boot 2.x系のサポート終了後に移行が困難になる
  - GC性能やメモリ効率の改善が含まれておらず、長期運用でのインフラコスト削減の機会を逃す
  - 新機能（Records, Pattern Matching, Virtual Threads等）が利用できず、技術的負債が早期に蓄積する
- 根拠:
  - サポート終了のリスク: リサーチ結果でOracle Java 11のEOLが2026年9月と明示されており、S4, S10の仮定（開発+運用で3-5年以上）に対してサポート期間が不足
  - フレームワーク互換性: Spring Boot 3がJava 17を最小要件とする（C3）ため、Java 11では最新エコシステムに追従不可能
  - ディストリビューション依存: S7の仮定通り、Eclipse Temurin等のサポート期間次第だが、Oracle EOL後のサポート継続の確実性は低い
- CSD依存:
  - S7（Java 11のサポート終了時期はディストリビューションに依存）に依存。ただしOracle EOLが2026年9月と確定しており、ディストリビューション選択に関わらず新規採用には不適切
  - S4, S10（開発期間2年以上、運用期間3年以上）の仮定と矛盾する。サポート期間不足により長期保守性が確保できない

## 除外した代替案

- **Java 11**: サポート終了（Oracle EOL 2026年9月）により新規プロジェクトでの採用が不適切。S4, S10（開発+運用期間）の仮定と矛盾
- **非LTSバージョン（Java 23等）**: Premier Supportが6ヶ月のみで長期保守性の要件を満たさない（リサーチ結果）
