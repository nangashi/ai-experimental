# トレードオフ行列

## マトリクス

| 判断基準 | ALT-1: Gradle (Kotlin DSL) | ALT-2: Maven | ALT-3: Gradle (Groovy DSL) |
|----------|---------------------------|--------------|---------------------------|
| OBJ-1: 長期的な保守性 | ○ | ◎ | △ |
| OBJ-2: ビルドパフォーマンス | ◎ | × | ◎ |
| OBJ-3: エコシステムとの統合性 | ◎ | ○ | ◎ |
| OBJ-4: 将来の拡張性 | ◎ | △ | ◎ |
| OBJ-5: 標準化と予測可能性 | ○ | ◎ | △ |

## 各セルの詳細

### ALT-1 (Gradle Kotlin DSL) × OBJ-1 (長期的な保守性)
- 評価: ○
- 利点: 型安全性によるIDEサポートが強力。補完・エラー検出・リファクタリングが容易。Java開発者にとってKotlinは文法的に近い
- 欠点: DSL自体の学習コストが存在。Gradleの暗黙的な動作（タスク実行順序、キャッシュ挙動等）が混乱の原因となりうる。メジャーバージョンアップ時に破壊的変更のリスク
- 根拠: Kotlin DSLはGroovy DSLより保守性で優れるが、Mavenの20年以上の実績と明確な規約には及ばない

### ALT-1 (Gradle Kotlin DSL) × OBJ-2 (ビルドパフォーマンス)
- 評価: ◎
- 利点: Build Cache使用時に最大100倍の速度向上。インクリメンタルビルド、並列タスク実行。Configuration Cacheによる設定時間削減。Kotlin DSL最適化で編集フィードバック2.5倍高速化
- 欠点: 初回ビルドではキャッシュなし。CI/CD環境のキャッシュ対応に依存（S7, D5）
- 根拠: 複数の出典で一貫してGradleのパフォーマンス優位性が確認されている。継続的な最適化により優位性は拡大傾向

### ALT-1 (Gradle Kotlin DSL) × OBJ-3 (エコシステムとの統合性)
- 評価: ◎
- 利点: Spring Boot 3.x公式サポート。Java 21完全互換。IDE統合成熟（IntelliJ IDEA ネイティブサポート）。CI/CDでBuild Cache/Configuration Cache活用可能。Plugin Portal に30,000以上のプラグイン
- 欠点: Kotlin DSLの学習コスト。サードパーティプラグインの品質にばらつき
- 根拠: 2026年のSlantランキングで1位。Spring InitializrでGradle (Kotlin)が選択肢として提供

### ALT-1 (Gradle Kotlin DSL) × OBJ-4 (将来の拡張性)
- 評価: ◎
- 利点: タイプセーフなカスタムタスク実装。柔軟なマルチモジュール構成。プログラマティックなビルドロジック記述。活発なプラグインエコシステム
- 欠点: 過度なカスタマイズによる保守性低下リスク。S4（複雑なビルド要件の発生）が成立しない場合オーバースペック
- 根拠: Kotlin DSLの型安全性によりリファクタリングに強く、大規模化への対応力が高い

### ALT-1 (Gradle Kotlin DSL) × OBJ-5 (標準化と予測可能性)
- 評価: ○
- 利点: タイプセーフな設定でビルドスクリプトの誤りをコンパイル時に検出。Convention Pluginsでチーム標準を共通化可能
- 欠点: 規約維持にはチームの規律が必要。業界標準としての認知度はMavenに劣る。Gradleの柔軟性により規約逸脱が可能
- 根拠: Convention Pluginsで標準化を実現可能だが、Mavenの「制約による標準化」とは本質的に異なるアプローチ

### ALT-2 (Maven) × OBJ-1 (長期的な保守性)
- 評価: ◎
- 利点: XMLの明確な構造。20年以上のドキュメント・コミュニティ蓄積。Apache Software Foundationによる長期サポート保証。規約重視で暗黙的動作が少ない
- 欠点: 大規模化するとpom.xmlが冗長化。カスタマイズにプラグイン開発が必要で保守対象増加
- 根拠: Mavenの設計思想「規約による標準化」が長期的な保守性の観点で最も有利

### ALT-2 (Maven) × OBJ-2 (ビルドパフォーマンス)
- 評価: ×
- 利点: 安定した動作。Maven Daemon（プレビュー版）によるJVM起動コスト削減の可能性
- 欠点: Gradleの2倍以上遅い。インクリメンタルビルド・ビルドキャッシュの最適化がGradleに大幅に劣る。Maven Daemonは未成熟
- 根拠: 複数の出典で一貫してMavenのパフォーマンスがGradleに劣ることが確認。ただしD2（規模・ビルド頻度）次第で影響度は変動

### ALT-2 (Maven) × OBJ-3 (エコシステムとの統合性)
- 評価: ○
- 利点: Spring Boot 3.x公式ドキュメントでMavenが第一にサポート。Java 21サポート確立。成熟したプラグインエコシステム。IDE・CI/CDの標準サポート
- 欠点: Maven 4移行時のプラグイン互換性問題。カスタムプラグイン開発がGradleより煩雑
- 根拠: Spring InitializrでMavenがデフォルト選択肢。Maven Centralが事実上の標準リポジトリ

### ALT-2 (Maven) × OBJ-4 (将来の拡張性)
- 評価: △
- 利点: 成熟したマルチモジュールサポート。標準的なプラグイン機構
- 欠点: 複雑なビルドロジックの表現力が限定的。カスタムタスクにJavaプラグイン開発が必要（高コスト）。大規模化でpom.xml冗長化
- 根拠: Maven 4で新機能追加が期待されるが、Gradleのスクリプト内カスタマイズの柔軟性には及ばない

### ALT-2 (Maven) × OBJ-5 (標準化と予測可能性)
- 評価: ◎
- 利点: Convention over Configurationの徹底。業界標準のプロジェクト構造。宣言的な設定による予測可能性。単一の中央リポジトリ。カスタマイズ制限が標準化を保証
- 欠点: 柔軟性の低さ（他目的とのトレードオフ）
- 根拠: 「標準化と予測可能性」に対してMavenの設計思想が最も直接的に対応

### ALT-3 (Gradle Groovy DSL) × OBJ-1 (長期的な保守性)
- 評価: △
- 利点: 簡潔な記述が可能。成熟したサンプルコード・プラグインが豊富
- 欠点: 型安全性の欠如でIDE補完が弱い。Gradleの方針転換によりKotlin DSLが推奨に。長期サポート見込みが不透明
- 根拠: Kotlin DSLへの移行推奨傾向があり、新規プロジェクトでGroovy DSLを選択するリスクが増大

### ALT-3 (Gradle Groovy DSL) × OBJ-2 (ビルドパフォーマンス)
- 評価: ◎
- 利点: ALT-1と同様のGradleパフォーマンス基盤（Build Cache、インクリメンタルビルド、並列実行）を享受
- 欠点: Configuration Cache の一部最適化はKotlin DSLに特化。ALT-1と同じCI/CD依存
- 根拠: ビルドパフォーマンスはDSL選択よりGradleエンジン自体の特性に依存。Kotlin DSLとほぼ同等

### ALT-3 (Gradle Groovy DSL) × OBJ-3 (エコシステムとの統合性)
- 評価: ◎
- 利点: ALT-1と同様のGradleエコシステム統合。歴史的にGroovy DSLのサンプルが多い
- 欠点: Kotlin DSLへの移行推奨により、新しいプラグインのドキュメントがKotlin DSL中心になりつつある
- 根拠: エコシステム統合はGradle本体の特性。DSL選択による差異は限定的

### ALT-3 (Gradle Groovy DSL) × OBJ-4 (将来の拡張性)
- 評価: ◎
- 利点: 動的型付けによる高い柔軟性。カスタムタスク実装がシンプル。スクリプト的な記述が可能
- 欠点: 型安全性の欠如で大規模化時の保守性リスク。Kotlin DSLへのマイグレーション推奨傾向
- 根拠: 柔軟性ではGroovy DSLがKotlin DSLと同等以上だが、型安全性の欠如が大規模化時のリスク

### ALT-3 (Gradle Groovy DSL) × OBJ-5 (標準化と予測可能性)
- 評価: △
- 利点: Gradleのデフォルト形態として既存ドキュメントが豊富
- 欠点: 動的型付けでランタイムまでエラー未検出。過度なカスタマイズリスクが最も高い。規約が弱くプロジェクト間の一貫性が保ちにくい
- 根拠: 標準化の観点では最もリスクが高い選択肢。Gradleの柔軟性が裏目に出る
